<!-- <p>recon works!</p> -->
<div class="main-container-quotes">
  <div class="flex-container-quotes" *ngIf="media.isActive('md') || media.isActive('lg')">
    <div style="flex-basis: 20%">
      <span class="material-icons style-icon-policy">info </span
      ><span class="font-size-20">Recon</span>
    </div>
  </div>
</div>

<div flex fxLayout="row wrap" fxLayout.xs="column" fxLayout.sm="column" fxLayoutGap="10px">
  <div fxFlex="10" fxLayout="column">
    <button mat-flat-button type="button" (click)="getTemplate()" class="btn" id="a1">
      Get Template
    </button>
  </div>

  <div class="row required-field mar-20">
    <label></label>
    <input (change)="selectFile($event)" type="file" #fileSelected />
  </div>
  <div fxFlex="10" fxLayout="column">
    <button
      mat-raised-button
      type="button"
      (click)="uploadData()"
      class="btn"
      [disabled]="!checkInput"
    >
      Upload
    </button>
  </div>
</div>
<div class="note">
  <span class="note-heading">Note:-</span>
  <ul class="margin-top-5">
    <li>Please select the Insurer Name,LOB & Product Name from the dropdown.</li>
    <li>All the dates should be in format of (YYYY-MM-DD). eg.(2022-12-17).</li>

    <li>If the column does not contain any data leave the columns blank not as null.</li>

    <li>
      Kindly keep the column name as per the excel. Do not change any sequence or name of the
      columns.
    </li>

    <li>
      Maximum no. of Record data allowed in a single excel file is 1000 records and The uploaded
      file will be processed later
    </li>
  </ul>
</div>

<div class="table-margin mat-elevation-z8" *ngIf="reconciliationReportList.length > 0">
  <div class="example-table-container">
    <table
      mat-table
      [dataSource]="reconciliationReportList"
      class="example-table"
      matSort
      matSortActive="created"
      matSortDisableClear
      matSortDirection="desc"
    >
      <!--"Start Date -->

      <div matColumnDef="{{ column }}" *ngFor="let column of displayedColumns">
        <th
          mat-header-cell
          *matHeaderCellDef
          [ngClass]="{
            'theme-table-red': orgCode === 'SIB',
            'theme-table-purple': orgCode !== 'SIB'
          }"
          color="primary"
        >
          <span *ngIf="column === 'Username'">USERNAME</span>

          <span *ngIf="column === 'Start Date'">REQUESTED ON</span>

          <span *ngIf="column === 'Status'">STATUS</span>

          <span *ngIf="column === 'Action'">ACTION</span>
        </th>

        <td mat-cell *matCellDef="let element">
          <span class="padding-left" *ngIf="column === 'Start Date'">{{
            element?.startDate | date: 'd/M/y'
          }}</span>

          <span class="padding-left" *ngIf="column === 'Username'">{{ element?.userName }}</span>
          <span class="padding-left" *ngIf="column === 'Status' && element?.status === 2"
            >Completed</span
          >
          <span class="padding-left" *ngIf="column === 'Status' && element?.status === 1"
            >Processing<mat-icon (click)="getReconList()" style="cursor: pointer"
              >refresh</mat-icon
            ></span
          >
          <span class="padding-left" *ngIf="column === 'Status' && element?.status === 3"
            >Failed</span
          >
          <span class="padding-left" *ngIf="column === 'Report Type'">{{
            element?.reportType
          }}</span>
          <span class="padding-left" *ngIf="column === 'Action'">
            <button
              mat-flat-button
              class="download-btn"
              *ngIf="element.status === 2"
              (click)="downloadFile(element.fileData)"
            >
              Download <span class="material-icons"> file_download</span>
            </button>
          </span>
        </td>
      </div>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let element; columns: displayedColumns"></tr>
    </table>
  </div>

  <mat-paginator
    [length]="resultsLength"
    [pageSize]="pageSize"
    [pageSizeOptions]="pageSizeOptions"
    (page)="onPageChange($event)"
  >
  </mat-paginator>
</div>
