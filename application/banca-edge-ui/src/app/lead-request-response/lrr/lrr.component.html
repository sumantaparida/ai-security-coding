<div class="main-container">
  <div *ngIf="media.isActive('md') || media.isActive('lg')" class="flex-container">
    <div style="flex-basis: 30%">
      <span class="material-icons style-icon-policy"> restore_page </span
      ><span class="font-size-20">Lead Request & Response</span>
    </div>

    <!-- <div class="policy-vault-name box" color="primary">
            <span class="material-icons style-icon-policy" style="font-size:20px;">
                restore_page
            </span>{{'component.MY_RENEWALS'| translate }}
        </div> -->
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div style="flex-basis: 20%">
      <form class="transform example-form" [formGroup]="searchForm">
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label>{{ 'component.SEARCH' | translate }}</mat-label>
          <input matInput (keyup)="getSearchResults()" formControlName="searchField" />
          <mat-icon matSuffix color="primary">search</mat-icon>
        </mat-form-field>
      </form>
    </div>
  </div>

  <!-- --mobile--  -->
  <ng-container *ngIf="media.isActive('xs') || media.isActive('sm')">
    <div flex fxLayout="row" fxLayoutGap="5px" class="parent">
      <div fxFlex="70" class="child-one">
        <span class="material-icons style-icon-policy"> restore_page </span
        ><span class="font-size-20">Lead Request & Response</span>
      </div>
    </div>
    <div flex fxLayout="row" fxLayoutGap="5px" class="parent-search">
      <div fxFlex="100" class="mob-search">
        <form class="example-form" [formGroup]="searchForm">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>{{ 'component.SEARCH' | translate }}</mat-label>
            <input matInput (keyup)="onSearchFieldChange()" formControlName="searchField" />
            <mat-icon matSuffix color="primary">search</mat-icon>
          </mat-form-field>
        </form>
      </div>
    </div>
  </ng-container>

  <!-- <mat-progress-spinner [diameter]="50" mode="indeterminate" *ngIf="isLoading">
    </mat-progress-spinner> -->

  <div class="container-table">
    <table
      mat-table
      class="mat-elevation-z8"
      [dataSource]="policyApplicationDetailsArr"
      matSort
      matSortActive="created"
      matSortDisableClear
      matSortDirection="desc"
      multiTemplateDataRows
    >
      <ng-container matColumnDef="{{ column }}" *ngFor="let column of displayedColumns">
        <th
          class="center"
          [ngClass]="{ 'width-small': column === ' ' }"
          mat-header-cell
          *matHeaderCellDef
          color="primary"
        >
          <span *ngIf="column === 'Lead ID'"> Lead ID </span>
          <span *ngIf="column === 'Insurer Request'">Insurer Request </span>
          <span *ngIf="column === 'Insurer Response'">Insurer Response </span>
        </th>

        <td mat-cell *matCellDef="let element">
          <span class="padding-left" *ngIf="column === 'Lead ID'">{{ element?.leadId }}</span>
          <span class="padding-left" *ngIf="column === 'Insurer Request'">
            <button
              mat-button
              color="primary"
              *ngIf="element?.leadInsurerRequest"
              (click)="copyItemOnClick(element?.leadInsurerRequest)"
            >
              Copy Request
            </button>
            <span *ngIf="!element?.leadInsurerRequest">NA</span>
          </span>
          <span class="padding-left" *ngIf="column === 'Insurer Response'">
            <button
              mat-button
              color="primary"
              *ngIf="element?.leadInsurerResponse"
              (click)="copyItemOnClick(element?.leadInsurerResponse)"
            >
              Copy Response
            </button>
            <span *ngIf="!element?.leadInsurerResponse">NA</span>
          </span>
        </td>
      </ng-container>

      <!-- Expanded Content Column - The detail row is made up of this one column that spans across all displayedColumns -->

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let element; columns: displayedColumns"></tr>
    </table>
    <!-- <mat-paginator
      [length]="policyApplicationSearchCopy?.length"
      [pageSize]="pageSize"
      [pageSizeOptions]="pageSizeOptions"
      (page)="onPageChange($event)"
    >
    </mat-paginator> -->

    <mat-paginator
      [length]="totalRecords"
      [pageSize]="pageSize"
      [pageSizeOptions]="pageSizeOptions"
      (page)="onPageChange($event)"
    >
    </mat-paginator>
  </div>
</div>
