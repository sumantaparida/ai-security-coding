<div class="width">
    <form [formGroup]="formGroup">
      <div class="dialog-actions">
        <ng-template ngFor let-input [ngForOf]="data.formData">
          <ng-container [ngSwitch]="input.controlType">
            <!-- radio inputs -->
            <ng-template
              [ngSwitchCase]="'radio'"
            >
              <div class="margin-top-5" fxFlex="32">
                <label>{{ input.label }}</label>
                <mat-radio-group
                  class="display-flex"
                  aria-label="Select an option"
                  formControlName="{{ input.controlName }}"
                >
                  <ng-container *ngFor="let radio of input.options; let first = first">
                    <div class="account-type-radio-box" [ngClass]="{ 'margin-left': !first }">
                      <mat-radio-button
                        color="primary"
                        value="{{ radio?.id }}"
                      >
                        {{ radio?.value }}
                      </mat-radio-button>
                    </div>
                  </ng-container>
                </mat-radio-group>
              </div>
            </ng-template>

            <!-- select inputs -->
            <ng-template
              [ngSwitchCase]="'select'"
             
            >
              <div fxFlex="32">
                <mat-form-field class="full-width" appearance="fill">
                  <mat-label>{{ input.label }}<span class="man-field">*</span> </mat-label>
                  <mat-select formControlName="{{ input.controlName }}" (selectionChange)="onSelectionChange(input)">
                    <mat-option
                      *ngFor="let option of input.options"
                      [value]="option?.id"
                    >
                      {{ option?.value }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              <!-- <ng-container
                *ngTemplateOutlet="
                  ErrorTemplate;
                  context: {
                    control: input?.controlName,
                    label: input?.label
                  }
                "
              >
              </ng-container> -->
              </div>
            </ng-template>

            <!-- text inputs -->
            <ng-template
              [ngSwitchCase]="'text'"
             
            >
              <div fxFlex="32">
                <mat-form-field class="full-width" appearance="fill">
                  <mat-label>{{ input.label }}<span class="man-field">*</span></mat-label>
                  <input matInput type="text" formControlName="{{ input.controlName }}" />
                </mat-form-field>
                <!-- <ng-container
                *ngTemplateOutlet="
                  ErrorTemplate;
                  context: {
                    control: input?.controlName,
                    label: input?.label
                  }
                "
              >
              </ng-container> -->
              </div>
            </ng-template>

            <!-- number input -->
            <ng-template
              [ngSwitchCase]="'number'"
            >
              <div fxFlex="32">
                <mat-form-field class="full-width" appearance="fill">
                  <mat-label>{{ input.label }}<span class="man-field">*</span></mat-label>
                  <input matInput type="number" formControlName="{{ input.controlName }}" />
                </mat-form-field>
                <!-- <ng-container
                *ngTemplateOutlet="
                  ErrorTemplate;
                  context: {
                    control: input?.controlName,
                    label: input?.label
                  }
                "
              >
              </ng-container> -->
              </div>
            </ng-template>

            <!-- date input -->
            <ng-template
              [ngSwitchCase]="'date'"
            >
              <div fxFlex="32">
                <mat-form-field class="full-width" color="accent" appearance="fill">
                  <mat-label>{{input.label}}<span class="man-field">*</span> </mat-label>
                  <input
                    readonly
                    [min]=""
                    [max]=""
                    matInput
                    [matDatepicker]="picker"
                    formControlName="{{ input.controlName }}"
                  />
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker color="primary"></mat-datepicker>
                </mat-form-field>
                <!-- <ng-container
                *ngTemplateOutlet="
                  ErrorTemplate;
                  context: {
                    control: input?.controlName,
                    label: input?.label
                  }
                "
              >
              </ng-container> -->
              </div>
            </ng-template>
          </ng-container>
        </ng-template>
      </div>
  
      <div mat-dialog-actions class="dialog-actions">
        <button
          class="submit-btn"
          mat-button
          (click)="onSelect()"
          [disabled]="!this.formGroup.valid"
        >
          Submit
        </button>
        <button class="cancel-btn" mat-button (click)="onClose()">Cancel</button>
      </div>
    </form>
  </div>
  